<div class="section">
  <p><%= @flight %></p>
  <p><%= params[:booking][:number_of_passengers].to_i %></p>
  <p><%= @passengers %></p>
  <div class="has-text-centered">
    <h2 class="title is-2">Booking information:</h2>
  </div>
  <div class="columns is-centered">
    <div class='column is-half'>
      <div class="container">
        <%= simple_form_for(@booking) do |f| %>

        <div class="field">
          <div class="control">
            <%= f.input :from_airport,
                input_html: { class: 'input', value: @flight.from_airport.name },
                wrapper: false,
                include_blank: false,
                label_html: { class: 'label' } %>
          </div>
        </div>


        <div class="field">
          <div class="control">
            <%= f.input :to_airport,
                input_html: { class: 'input', value: @flight.to_airport.name },
                wrapper: false,
                include_blank: false,
                label_html: { class: 'label' } %>
          </div>
        </div>

        <div class="field">
          <div class="control">
            <%= f.input :number_of_passengers,
                input_html: { class: 'input', value: params[:booking][:number_of_passengers] },
                wrapper: false,
                include_blank: false,
                label_html: { class: 'label' } %>
          </div>
        </div>

        <div class="field">
          <div class="control">
            <%= f.input :date,
                input_html: { class: 'input', value: @flight.start.to_date },
                wrapper: false,
                include_blank: false,
                label_html: { class: 'label' } %>
          </div>
        </div>

        <div class="has-text-centered mt-5">
          <h3 class="title is-3">Passenger Information</h3>
        </div>

        <%= f.simple_fields_for :passenger do |passenger| %>

          <div class="field">
            <div class="control">
              <%= passenger.input :name,
                  label_html: { class: 'label' },
                  wrapper: false,
                  input_html: { class: 'input' } %>
            </div>
          </div>

          <div class="field">
            <div class="control">
              <%= passenger.input :email,
                  label_html: { class: 'label' },
                  wrapper: false,
                  input_html: { class: 'input' } %>
            </div>
          </div>

          <% end %>

          <%= f.submit class: 'button is-primary' %>

        <% end %>
      </div>
    </div>
  </div>
</div>